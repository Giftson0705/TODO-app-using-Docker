<!DOCTYPE html>
<html>
<head>
    <title>Home</title>
    <!-- Bootstrap CSS CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">
<div class="container mt-5">
    <h2 class="mb-4">Welcome, {{ request.user.username }}!</h2>

    {% if request.user.is_authenticated %}
        <p><a class="btn btn-outline-secondary btn-sm" href="{% url 'logout' %}">Logout</a></p>

        <h4>Your Todos</h4>
        <ul class="list-group mb-3">
            {% for todo in todos %}
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    {{ todo.task }}
                    <span>
                        <a class="btn btn-sm btn-primary me-2" href="{% url 'edit_todo' todo.id %}">Edit</a>
                        <a class="btn btn-sm btn-danger" href="{% url 'delete_todo' todo.id %}">Delete</a>
                    </span>
                </li>
            {% empty %}
                <li class="list-group-item">No todos yet</li>
            {% endfor %}
        </ul>

        <a class="btn btn-success" href="{% url 'add_todo' %}">âž• Add Todo</a>

    {% else %}
        <p>
            <a class="btn btn-primary me-2" href="{% url 'login' %}">Login</a>
            <a class="btn btn-secondary" href="{% url 'register' %}">Register</a>
        </p>
    {% endif %}
</div>
</body>
</html>
